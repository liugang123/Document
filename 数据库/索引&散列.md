- #### 基本索引类型
```
为了快速随机访问文件中的记录，可以使用索引结构，每个索引结构与一个特定的搜索码相关联
有两种基本的索引结构：
1.顺序索引：基于值的顺序排序
2.散列索引：基于将值平均发布到若干散列桶中，一个值所属的散列桶由一个函数决定，该函数为散列函数
搜索码：用于在文件中查找记录的属性或属性集合称为搜索码，如果文件上有多个索引，它就用多个搜索码
符合搜索码：一个包含多个属性的搜索码称为复合搜索码
```

- ##### 顺序索引
```
顺序索引按顺序存储搜索码的值，并将每个搜索码与包含该搜索码的记录关联起来
聚集索引：被索引的文件自身也可以按照某种顺序存储，如果包含记录的文件按照某个搜索码指定的顺序排序，该索引码对应的索引为聚集索引
聚集索引也称为主索引，聚集索引的搜索码常常为主码，尽管并非必须如此
非聚集索引：搜索码指定的顺序与文件中记录的物理顺序不同的索引称为非聚集索引或辅助索引
索引顺序文件：在搜索码上有聚集索引的文件的称为索引顺序文件
```

- ###### 稠密索引和稀疏索引
```
索引项（索引记录）：有一个搜索码值和指向具有该搜索码值的一条或多条记录的指针构成
指向记录的指针包含磁盘块的标示和磁盘块内记录的块内偏移量
稠密索引：在稠密索引中，文件中的每一个搜索码值都有一个索引项
        在稠密聚集索引中，索引项包含搜索码值以及指向具有该搜索码值的第一条数据记录的指针
        具有相同搜索码值的其余记录顺序的存储在第一条数据记录之后
        在稠密非聚集索引中，索引必须存储指向所有具有相同搜索码记录的指针列表
稀疏索引：在稀疏索引中，只为搜索码的某些值建立索引项
        只有索引是聚集索引时才能使用稀疏索引
        为定位一条数据，找到其最大搜索值码小于或等于所查找记录的搜索码值，
        沿着文件指针查找，直到找到所需记录
稠密索引通常比稀疏索引可以更快的定位一条记录
稀疏索引所占空间较小，并且插入和删除时所需的维护开销较小
```

- ##### 多级索引
```
具有两级或两级以上的索引称为多级索引
利用多级索引搜索记录与用二分法搜索记录相比需要的I/O操作要少的多
```

- ##### 辅助索引（非聚集索引）
```
1.辅助索引必须是稠密索引，对每个搜索码都有一个索引项，而且对文件中每条记录都有一个指针
2.如果辅助索引只存储了部分搜索码值，两个索引项的搜索码值之间的搜索码值所对应的记录可能存在与文件的任何地方
只能通过扫描整个文件才能找到它们
3.聚集索引可以是稀疏索引，可以只存储部分搜索码值
4.可以用一个附加的间接指针层来实现非候选码的搜索码上的辅助索引
  指针并不直接指向文件，而是指向一个包含文件指针的桶
  这样就可以按照辅助码的顺序对文件进行顺序扫描，避免了每读一条记录都有可能要从磁盘读入一个新的块
```

- ##### 索引的自动生成
```
如果一个关系声明为有一个主码，大多数数据库会在主码上自动创建一个索引
只要有一个元组插入到关系中，该索引就可以用来检查有没有违反主键约束
如果主键上没有索引，只要插入一个元组，整个关系就必须被读取，以确保满足主码约束
```

- #### B+树索引文件
```
1.索引顺序文件随着文件的增大，索引查找性能和数据扫描性能都会下降
虽然可以通过文件进行重新组织来弥补，但不希望频繁的进行文件重组
2.B+树索引结构是在数据插入和删除时仍能保持其执行效率的索引结构
3.B+树索引采用平衡树结构，其中树根到树叶的每条路径的长度都相同，这是B+树的必需属性
4.B+树结构会增加文件插入和删除处理的性能开销，此外，由于树节点有可能是半空的，
相比性能的提高，这种空间开销是可接受的
5.叶节点：
  P1 | K1, P2 ... Pn-1 | Kn-1,Pn
  叶节点结构包含n-1个搜索码值K1，K2，...，Kn以及n指针P1，P2，...，Pn
  每个节点中的搜索码值按顺序存放，可以用Pn将节点按搜索码顺序串联起来
6.非叶节点：
  也称为内部节点，结构和叶节点相同
  形成叶节点上的一个多级索引，只不过非叶节点中的所有指针都是指向树中节点的指针
  非叶节点的指针数称为该节点的扇出
```

- #### 覆盖索引
```
1.存储一些非搜索码的值以及指向记录的指针
2.使用覆盖索引就可能回答一些查询，甚至不需要找到实际的记录
3.覆盖索引能够减小搜索码的大小，使非叶节点有更大的扇出，潜在的降低索引的高度
```

- #### 静态散列
```
1.顺序文件组织的一个缺点是必须访问索引结构来定位数据，或者，必须使用二分法搜索，这将导致过多的I/O操作
基于散列的文件组织能够避免访问索引结构
2.使用桶(bucket)来表示能存储一条或多条记录的一个存储单位
3.散列函数：用来计算所有搜索码值集合到桶地址集合的一个映射结果
4.散列文件组织：通过计算搜索码值直接获得包含该记录的磁盘块地址
5.散列索引组织：把搜索码和它们关联的指针组织成一个散列文件组织
6.理想散列函数的发布特征：
  发布是均匀的：散列函数从所有可能的搜索码值集合中为每个桶分配同样数量的搜索码值
  发布是随机的：不管搜索码值实际怎样发布，每个桶分配同样数量的搜索码值
7.桶溢出：记录映射到的桶有存储记录的空间，如果桶无足够的空间，就会发生溢出  
8.桶溢出原因：
  桶不足：桶数目必须 > 存储的记录总数/每个桶中存放的记录数
  偏斜：某些桶分配到的记录比其他桶多，即时其他桶有空间，某个桶也溢出了，偏斜的原因有两个：
  * 多条记录可能具有相同的搜索码
  * 所选的散列函数可能造成搜索码的发布不均
9.溢出桶：如果桶已满，系统会提供另外的溢出桶，所有的溢出桶用一个链接列表链接在一起，这种链接列表的溢出处理称为溢出链  
10.静态散列：桶的数目和散列函数都是固定的，不容易改变，也不容易适应数据库随时间的显著增长
```

- #### 动态散列
```
1.可扩充散列的性能不随文件的增长而降低，空间开销也最小，不必为将来的增长保留桶，桶的分配是动态的
2.可扩充散列在查找时需要一个附加的间接层，因为系统访问桶本身之前必须先访问桶地址表，这额外的访问只对性能有微小的影响
3.线性散列可能有更多溢出桶的代价为前提，避免了额外的间接层
```