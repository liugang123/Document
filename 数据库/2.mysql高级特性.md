- #### 分区表
```
1.分区原理：
* 一个独立的逻辑表，底层有多个物理子表组成
* 实现分区的代码是对一组底层表的句柄对象的封装，对分区表的请求，都是通过句柄对象转化成对存储引擎的接口调用
* 对于sql层分区表是一个完全封装底层实现的黑盒，用户无法访问底层的各个分区，其底层文件都有一个使用#分隔命名的表文件
* mysql实现分区表的方式--对底层表的封装--索引也是按照分区的子表定义的，没有全局索引
2.分区的作用：
* 表非常大无法都放在内存中，或只在表的最后部分有热点数据，其他均是历史数据
* 分区表的数据更易维护，可以删除整个分区数据，或对一个独立分区进行优化、查找、修改
* 分区表的数据可以分布在不同物理设备上，高效利用多个硬件设备
* 可以备份和回复独立的分区
3.分区的限制：
* 一个表最多只能有1024个分区
* 分区表达式必须是整数或返回整数的表达式
* 如果分区字段有主键或唯一索引，所有主键列和唯一索引列必须都包含进来
* 分区表中无法使用外键约束
4.分区类型：
* 根据范围分区，每个分区存储落在某个范围的记录
create table sales(
 order_date DateTime not null,
 -- other columns omitted
) ENDINE=InnoDB Partition By Range(Year(order_date)){
    partition p_2010 values less than (2010),
    partition p_2011 values less than (2011),
    partition p_catchall values less than maxvalue
});
* 根据键值、哈希和列表进行分区
* 使用数学模函数进行分表
```

- #### 视图
```
1.视图本身是一个虚拟表，不存放任何数据
2.不能对视图创建触发器，不能使用drop table删除视图
3.mysql使用合并算法(merge)或临时表算法(temptable)的任意一种来处理函数
4.视图的创建：
create view view_name as
 select ... 
with check option;
```

- #### 内部存储代码
```
1.存储代码是一种共享和复用代码的方法，mysal可以通过触发器、存储过程、函数、事件(定时任务)的形式来存储代码
2.存储代码的优点：
* 在服务器内部执行，离数据近，可以节省宽带和网络延迟
* 代码重用，方便的统一业务规则，保证行为的一致
* 简化代码的维护和版本更新
* 服务器可以缓存存储过程的执行计划，反复调用的过程，会大大降低消耗
* 可以在应用开发和数据库开发之间更好的分工
3.存储代码的缺点：
* mysql本身没有提供更好的开发和调试工具
* 可能会给应用程序代码的部署带来额外的复杂性，除了应用代码和表结构，还需要额外部署mysql内部的存储代码
* 会给服务器带来额外的压力
4.存储过程：
* 希望存储程序越小、越简单越好
* 希望将更复杂的处理逻辑交给上层应用实现，使存储代码更易读、易维护、更灵活
5.触发器：
* 可以在执行insert、update或delete时，执行一些特定的操作
* 可以指定在sql语句执行前触发还是执行后触发
* 对每一个表的每一个事件，最多只能定义一个触发器
* mysql只支持“基于行的触发”，触发器始终针对一条记录，不针对整个sql语句
6.事件：
* mysql内部的定时任务，通过事件，可以指定某个时刻执行一段sql代码或者每隔一段时间执行一段sql代码
* 可以把复杂的sql都封装到一个存储过程中，在执行事件时只需要call调用即可
```

- #### 游标
```
* mysql服务器提供只读、单向的游标，只能在存储过程或更底层的客户端api中使用
* 游标指向的对象是存储在临时表中而不是实际查询的数据，所以游标总是只读的
* 当打开游标时需要执行整个查询，可以考虑使用limit来限制结果集
* mysql不支持客户端的游标
```

- #### 字符集和校对(排序)
```
1.字符集：指一种从二进制编码到某类字符符号的映射
2.校对：指一组用于某个字符集的排序规则
3.每一类编码字符都有对应的字符集和校对规则，校对规则和字符集总是一起使用的，这样的组合统称为一个字符集
4.只有基于字符的值才真正具有字符集的概念，其他类型的值，字符集只是一个设置，指定使用那一种字符集来做比较或操作
5.mysql设置字符集可以分为两种：
* 创建对象时进行默认设置
  (1)创建数据库时，通过character_set_server设置来指定数据库的默认字符集
  (2)创建表时，根据数据库的字符集设置指定表的字符集设置
  (3)创建列时，将根据表的设置指定列的字符集设置
* 服务端和客户端通信时设置
  (1)服务器总假设客户端是按照character_set_client设置字符来传输数据和sql语句的
  (2)当服务器接到sql语句时，先将其转换成字符集character_set_connection，以及按照此设置将数据转换成字符串
  (3)将服务器返回数据时，会将其转换成character_set_result
6.选择字符集的校对规则
* _cs:以大小写敏感的方式比较字符串
* _ci:以大小写不敏感的方式比较字符串
* _bin:以字符串的二进制来比较大小
```


